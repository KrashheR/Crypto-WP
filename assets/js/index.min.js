function initProgressBar(){if(document.querySelector(".header__progress-bar")){const n=document.querySelector(".header__progress-handle"),e=()=>{var e=window.innerHeight,t=document.body.clientHeight,t=window.pageYOffset/(t-e),e=Math.round(100*t);n.style.width=0<e?e+"%":"0%"};window.addEventListener("scroll",()=>{requestAnimationFrame(e)})}}function initNavigationToggle(){document.querySelector(".navigation__hamburger").addEventListener("click",()=>{var e=document.querySelector(".navigation__list"),t=window.getComputedStyle(e).getPropertyValue("top");e.style.top="-250px"===t?"50px":"-250px"})}function initParallaxEffect(){const t=document.querySelector(".post-content__image");if(t&&!(window.innerWidth<=768)){const e=()=>{var e=.5*window.pageYOffset;t.style.transform=`translateY(${e}px)`};document.addEventListener("scroll",()=>{(e=>{e=e.getBoundingClientRect();return e.top<=(window.innerHeight||document.documentElement.clientHeight)&&0<=e.bottom})(t)&&requestAnimationFrame(e)})}}function initMobileSearch(){const e=document.querySelector(".search-field"),t=document.querySelector(".search-field__form"),n=document.querySelector(".search-field__button_mobile"),o=document.querySelector(".navigation__mobile-logo");n&&n.addEventListener("click",()=>{toggleMobileSearch(e,t,n,o)})}function toggleMobileSearch(e,t,n,o){e.style.flex="1",t.style.display="flex",n.style.display="none",o.style.display="none"}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",e=>{smoothScroll(e,t)})})}function smoothScroll(e,t){e.preventDefault();e=document.querySelector(t.getAttribute("href"));e&&(t=e.offsetTop,window.scrollTo({top:t+20,behavior:"smooth"}))}function updateActiveLink(){var e=Array.from(document.querySelectorAll("[id]"));let t=e[0];for(const o of e){if(!(o.getBoundingClientRect().top<=150))break;t=o}var n,e=document.querySelector(`.sidebar__navigation-link[href="#${t.id}"]`);e&&((n=document.querySelector(".sidebar__navigation-link_active"))&&n.classList.remove("sidebar__navigation-link_active"),e.classList.add("sidebar__navigation-link_active"))}document.addEventListener("DOMContentLoaded",()=>{initProgressBar(),initNavigationToggle(),initParallaxEffect(),initSmoothScroll(),initMobileSearch(),updateActiveLink(),window.addEventListener("scroll",()=>{requestAnimationFrame(updateActiveLink)})});